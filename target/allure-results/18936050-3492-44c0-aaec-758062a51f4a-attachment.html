<html>
<head>
    <meta charset='UTF-8'>
    <style>
        body { font-family:'Segoe UI',sans-serif;background:#f9fbfd;padding:20px; }
        h2 { color:#0078D7; }
        .card { background:#fff; border-radius:12px; padding:20px; margin-bottom:20px;
                box-shadow:0 4px 10px rgba(0,0,0,0.08); }
        input,button { font-size:14px; }
    </style>
</head>
<body>
    <h2>ğŸ“Š AI Subproject Analysis â€” AI-Allure-Reuse-luffy-master</h2>

    <!-- ğŸ” Search MongoDB Data -->
    <div class='card' style='border-left:6px solid #6C63FF;'>
        <h3>ğŸ” Search Historical AI Data</h3>
        <input id='searchInput' type='text' placeholder='Search (e.g. login, error, endpoint)'
            style='padding:8px;width:60%;border-radius:8px;border:1px solid #ccc;'>
        <button onclick='searchAIData()'
            style='padding:8px 15px;background-color:#0078D7;color:white;border:none;border-radius:8px;margin-left:10px;'>
            Search
        </button>
        <div id='searchResults' style='margin-top:20px;'></div>
    </div>

    <!-- ğŸ§  AI Summary -->
    <div class='card' style='border-left:6px solid #4285F4;'><h3>ğŸ§  AI Execution Summary for Project: AI-Allure-Reuse-luffy-master</h3><hr><h4>ğŸ“¦ Subproject: UserAppTest</h4><b>ğŸ§© Subproject:</b> UserAppTest<br>
<b>ğŸ“… Previous Run:</b> 2025-11-09T20:14:32.436209200Z â€” 10 endpoints<br>
<b>ğŸ“… Latest Run:</b> 2025-11-09T20:17:38.088579300Z â€” 10 endpoints<br>
<b>ğŸ“Š Comparison:</b><br>
â€¢ Previous Success Rate: 90.00% (9/10)<br>
â€¢ Latest Success Rate: 90.00% (9/10)<br>
â€¢ Change: +0.00%<br>
â€¢ Failures: 1 â†’ 1<br><br>
âœ… Stable endpoints.<br><br><h4>ğŸ“¦ Subproject: FoodFinderTest</h4><b>ğŸ§© Subproject:</b> FoodFinderTest<br>
<b>ğŸ“… Previous Run:</b> 2025-11-09T20:09:43.267579100Z â€” 14 endpoints<br>
<b>ğŸ“… Latest Run:</b> 2025-11-09T20:17:05.986918300Z â€” 14 endpoints<br>
<b>ğŸ“Š Comparison:</b><br>
â€¢ Previous Success Rate: 100.00% (14/14)<br>
â€¢ Latest Success Rate: 100.00% (14/14)<br>
â€¢ Change: +0.00%<br>
â€¢ Failures: 0 â†’ 0<br><br>
â• GET /api/auth/profile/admin_1762719422116<br>â– GET /api/auth/profile/admin_1762718979236<br><br><h4>ğŸ“¦ Subproject: SocialMediaTest</h4><b>ğŸ§© Subproject:</b> SocialMediaTest<br>
<b>ğŸ“… Previous Run:</b> 2025-11-09T20:15:38.515199200Z â€” 9 endpoints<br>
<b>ğŸ“… Latest Run:</b> 2025-11-09T20:17:56.461999Z â€” 7 endpoints<br>
<b>ğŸ“Š Comparison:</b><br>
â€¢ Previous Success Rate: 11.11% (1/9)<br>
â€¢ Latest Success Rate: 85.71% (6/7)<br>
â€¢ Change: +74.60%<br>
â€¢ Failures: 8 â†’ 1<br><br>
â• DELETE /api/posts/6910f6f4aa7c556525ce360b<br>â– DELETE /api/messages/clear<br>â– POST /api/messages<br>â– GET /api/messages/68114dbd23bc5b4e45b5a085<br><br><h4>ğŸ“¦ Subproject: TrackerTest</h4><b>ğŸ§© Subproject:</b> TrackerTest<br>
<b>ğŸ“… Previous Run:</b> 2025-11-09T20:09:56.686968400Z â€” 4 endpoints<br>
<b>ğŸ“… Latest Run:</b> 2025-11-09T20:17:18.972742600Z â€” 4 endpoints<br>
<b>ğŸ“Š Comparison:</b><br>
â€¢ Previous Success Rate: 100.00% (4/4)<br>
â€¢ Latest Success Rate: 100.00% (4/4)<br>
â€¢ Change: +0.00%<br>
â€¢ Failures: 0 â†’ 0<br><br>
â• DELETE https://student-job-tracker-1-q8rh.onrender.com/api/jobs/690b0e68d337c692f76cc111<br>â• PUT https://student-job-tracker-1-q8rh.onrender.com/api/jobs/690b2deb408d01c78bc22a1c<br>â– DELETE https://student-job-tracker-1-q8rh.onrender.com/api/jobs/67f6ce82dcb0837b74b7fabe<br>â– PUT https://student-job-tracker-1-q8rh.onrender.com/api/jobs/690b0e68d337c692f76cc111<br><br><hr><h3>ğŸŒ Global Project Comparison Summary</h3>
<p><b>ğŸ AI-Allure-Reuse-luffy-master â€” Avg Success Rate:</b> 93.93% | <b>Endpoints:</b> 35</p>
<hr><p style='font-size:13px;color:#666;'>âœ¨ Auto-generated by AI + Allure | Smart Project Comparison</p></div>

    <script>
    async function searchAIData() {
        const query = document.getElementById("searchInput").value.trim();
        const resultsDiv = document.getElementById("searchResults");
        if (!query) {
            resultsDiv.innerHTML = "<p style='color:red;'>Please enter a search keyword.</p>";
            return;
        }
        resultsDiv.innerHTML = "<p>â³ Searching...</p>";
        try {
            const res = await fetch(`http://localhost:8081/api/search?q=${encodeURIComponent(query)}`);
            if (!res.ok) throw new Error("Server not reachable");
            const data = await res.json();

            if (!data.results || Object.keys(data.results).length === 0) {
                resultsDiv.innerHTML = "<p>No results found for <b>" + query + "</b>.</p>";
                return;
            }

            let html = "";
            for (const [collection, docs] of Object.entries(data.results)) {
                html += `<h4 style='color:#0078D7;'>ğŸ“‚ ${collection}</h4>`;
                if (docs.length === 0) {
                    html += "<p><i>No entries found.</i></p>";
                } else {
                    docs.forEach(doc => {
                        html += `<pre style='background:#f8f9fa;padding:10px;border-radius:6px;border:1px solid #ddd;'>${JSON.stringify(doc,null,2)}</pre>`;
                    });
                }
            }
            resultsDiv.innerHTML = html;
        } catch (err) {
            resultsDiv.innerHTML = `<p style='color:red;'>âŒ Failed to fetch data: ${err.message}</p>`;
        }
    }
    </script>
</body>
</html>
